<script>

//0906 퇴근하고 공부//_//
//JAVA의  HashMap과 같이 {key:value}로 이루어진 자료구조
//key값을 사용해 해당 key에 맞는 value를 가져올 수 있음

/**
 * @typedef {Class} PHONE_BOOK
*/
class PHONE_BOOK
{
    constructor()
    {
        this.PHONE_BOOK = new Map();
    }

    /** 
     * @description PHONE_BOOK에 이름과 번호를 추가함
     * @param {String} name 저장할 이름
     * @param {number} number 전화번호
     * @result PHONE_BOOK에 이름과 번호가 추가됨
    */
    add(name, number)
    {
        //자주 사용하는 변수는 참조변수로 생성
        const pb = this.PHONE_BOOK;
        //JS는 return만 하면 문제가 생길 수 있음
        if(this.getAllNumbers().includes(number)){
            return false;
        }
        else if(this.PHONE_BOOK.has(name)){
            this.PHONE_BOOK.get(name).push(number);     //[111,222]
        }
        else{
            this.PHONE_BOOK.set(name, [number]);
        }
    }
    /** 
     * @description PHONE_BOOK에 저장된 내용에서 이름을 매개변수로 번호를 찾음
     * @param {String} name 찾을 이름
     * @return {Array} 저장된 번호 
    */
    get(name){
        return this.PHONE_BOOK.get(name);
    } 

    /** 
     * @description PHONE_BOOK에 저장된 모든 이름을 가져옴
     * @return {Array} 저장된 이름
    */  
    getAllNames(){
        return this.PHONE_BOOK.keys();
    }

    /** 
     * @description PHONE_BOOK에 저장된 모든 번호 가져옴
     * @return {Array} numbers 저장된 번호
    */  
    getAllNumbers(){
        let numbers = Array.from(this.PHONE_BOOK.values()).flat(Infinity);
        return numbers;
    }

}


let pb = new PHONE_BOOK();
pb.add('사람1', 12341234);
pb.add('사람2', 11111111);
pb.add('사람4', 11221122);
pb.add('사람6', 32492348);
pb.add('사람1', 12121212);
console.log(pb);
console.log(pb.get("사람1"));
console.log(pb.getAllNames());
console.log(pb.getAllNumbers());
</script>